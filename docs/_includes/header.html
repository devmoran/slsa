

<header
  x-data="{ open: false, navOpen: false, sticky: false, lastPos: window.scrollY }"
  x-ref="navbar"
  x-on:scroll.window="
    sticky = window.scrollY >= $refs.navbar.offsetHeight && lastPos >= window.scrollY;
    lastPos = window.scrollY;
  "
  x-bind:class="{
  'sticky': sticky,
  'fixed': !sticky && lastPos > 0,
  'static': lastPos === 0 && !sticky
  }"
  class="site-header {% if page.url != '/specifications/{{ site.current_spec_version }}/overview' and page.url != {{ site.baseurl }} and page.url != '/' or page.url == '/specifications/{{ site.current_spec_version }}/overview' %} is-specification-markdown{% endif %}">
  <div class="wrapper">
  <div class="py-4 md:py-0 flex items-center justify-between">
      {%- assign default_paths = site.pages | map: "path" -%}
      {%- assign page_paths = site.header_pages | default: default_paths -%}
      {%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}
      <a rel="author" href="{{ "/" | relative_url }}" class="relative logo">
        {% if page.url == '/' %}
          <img src="{{ site.baseurl }}/images/logo.svg" alt="{{site.title}} logo" />
        {% else %}
        <img x-cloak x-show="!sticky" src="{{ site.baseurl }}/images/logo-green.svg" alt="{{site.title}} logo" />
          <img x-cloak x-show="sticky" src="{{ site.baseurl }}/images/logo.svg" alt="{{site.title}} logo" />
        {% endif%}
      </a>
      {%- if titles_size > 0 -%}
        {% include mobile-nav.html paths=page_paths %}
        <nav class="site-nav">
          <ul class="list flex justify-center">
            {%- for path in page_paths -%}
              {%- assign my_page = site.pages | where: "path", path | first -%}
              {%- if my_page.title -%}
              <li class="relative">
                {%- if my_page.url == '/specifications' -%}
                  {%- assign my_page_url = '' -%}
                {%- else -%}
                  {%- assign my_page_url =  my_page.url | relative_url -%}
                {%- endif -%}
                  {% if my_page.title == 'Specifications' %}
                    <a {% if my_page.title == page.title %}class="active page-link text-white flex items-center cursor"{% else %}class="page-link text-white flex items-center cursor"{% endif %}>
                      <button x-on:click="open = ! open" class="flex items-center">{{ my_page.title | escape }} <div class=" ml-2"><svg width="9" height="9" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.05881 5.064L0.972811 0.906H5.13081L3.05881 5.064Z" fill="white"/>
                        </svg></div></button>
                    </a>
                    {% else %}
                    <a {% if my_page.title == page.title %}class="active page-link text-white flex items-center"{% else %}class="page-link text-white flex items-center"{% endif %}
                    href="{{my_page_url}}">
                      {{ my_page.title | escape }}
                    </a>
                  {% endif %}
                  {% if my_page.title == 'Specifications' %}
                    <div @click.outside="open = false" x-cloak x-show="open" x-transition class="absolute m-0 p-4 -ml-2 mt-4 bg-white rounded-lg shadow-md dropdown">
                      {% include specifications-nav.html %}
                    </div>
                  {% endif %}
                  {%- endif -%}
                </li>
                {%- endfor -%}
          </ul>
        </nav>
      {%- endif -%}
      <div class="ml-4 flex justify-end">
        <button  x-on:click="navOpen = ! navOpen" :class="{ 'active': navOpen === true }" class="mobile-menu-button inline-block md:hidden">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <a class="hidden md:inline-block" href="https://github.com/slsa-framework" target="_blank"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2344 0.150879C5.28641 0.150879 0.468811 4.96848 0.468811 10.9165C0.468811 15.6803 3.55046 19.7039 7.82978 21.1303C8.36806 21.2245 8.56991 20.9016 8.56991 20.619C8.56991 20.3633 8.55646 19.5155 8.55646 18.6139C5.8516 19.1118 5.15184 17.9545 4.93653 17.3489C4.81541 17.0394 4.29059 16.084 3.83306 15.8283C3.45626 15.6264 2.91798 15.1285 3.8196 15.1151C4.66739 15.1016 5.27295 15.8956 5.47481 16.2185C6.44371 17.8468 7.99126 17.3893 8.61028 17.1067C8.70448 16.4069 8.98708 15.9359 9.29659 15.6668C6.90125 15.3977 4.39825 14.4691 4.39825 10.3513C4.39825 9.18051 4.81541 8.21161 5.50172 7.45802C5.39407 7.18888 5.01727 6.08541 5.60938 4.60514C5.60938 4.60514 6.51099 4.32254 8.56991 5.70861C9.43116 5.46639 10.3462 5.34527 11.2613 5.34527C12.1764 5.34527 13.0914 5.46639 13.9527 5.70861C16.0116 4.30909 16.9132 4.60514 16.9132 4.60514C17.5053 6.08541 17.1285 7.18888 17.0209 7.45802C17.7072 8.21161 18.1244 9.16706 18.1244 10.3513C18.1244 14.4826 15.6079 15.3977 13.2126 15.6668C13.6028 16.0032 13.9392 16.6492 13.9392 17.6584C13.9392 19.0983 13.9258 20.2556 13.9258 20.619C13.9258 20.9016 14.1276 21.238 14.6659 21.1303C16.8031 20.4088 18.6602 19.0353 19.9758 17.2031C21.2915 15.3708 21.9994 13.1721 22 10.9165C22 4.96848 17.1824 0.150879 11.2344 0.150879Z" fill="white"/>
        </svg>
        </a>
        </div>
    </div>
  </div>
  </header>