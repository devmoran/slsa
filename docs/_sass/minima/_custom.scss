//
// GLOBALS
//

* {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    -ms-box-sizing: border-box;
    -o-box-sizing: border-box;
    box-sizing: border-box;
}

// Fonts

@font-face {
    font-family: 'Prodigy';
    src:  url('../../fonts/ProdigySans-Regular.ttf') format('truetype'),
          url('../../fonts/ProdigySans-Regular.woff2') format('woff2'),
          url('../../fonts/ProdigySans-Regular.woff') format('woff');
}

//
// LAYOUT
//


// Colour

.text{
    &-green{
        color: $light-green;
    }
}
.bg{
    &-light-green{
        background-color: $light-green;
    }
    &-light-pastel-green {
        background-color: #B4F3C9;
    }
    &-pastel-green{
        background-color: $pastel-green;
    }
    &-green-dark{
        background-color: $dark-green;
    }
    &-green-darkest{
        background-color: $green-darkest;
    }
}

// Blocks of content
.content-block {
    padding: 20px 0;
}

// Reponsive 2 column layout block
.col-2 {
    margin: 10px 0;
    display: grid;
    gap: $spacer-xxl;
    grid-template-columns: 1fr 1fr;

    @include media-query($on-palm) {
        grid-template-columns: 1fr;
        gap: $spacer-xxl;
    }
}

.nogap {
    @include media-query($on-palm) {
        gap: 0;
    }
}

// Section with wide background + color
.breakout {
    position: relative;
    background: $breakout-bg-color;
    margin: $spacer-xl 0;
    padding: 80px 0;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
}

.wrapper {
    max-width: $content-width;
    padding: 0 20px;
    margin: 0 auto;
    width: 100%;

    @include media-query($on-mobile) {
        padding: 0 20px;
    }

    &.inner, .inner{
        padding-left: 70px;
        padding-right: 70px;
    }
}

.max-width {
    align-items: center;
}

// 4 column levels
.level-icons {
    display: grid;
    width: 100%;
    grid-template-columns: repeat(4, 1fr);
    gap: $spacer-l;

    @include media-query($on-tablet) {
        grid-template-columns: repeat(2, 1fr);
    }

    @include media-query($on-mobile) {
        grid-template-columns: 1fr;
    }

    .level {
        background: white;
        border-radius: $radius;
        border: 4px solid $grey-color-light;
        padding: $spacer-l;

        .level-badge {
            max-width: 50px;
        }
    }
}

//
// STYLING
//

h1, h2, h3, h4, h5 {
    font-family: $header-font-family;
}

// Type size ramp
h1, .h1 {
    font-weight: $title-font-weight;
    padding-top: $title-padding-top;
    padding-bottom: $title-padding-bottom;

    font-size: $title-font-size;
    letter-spacing: $title-letter-spacing;
    line-height: 1.2;
    font-family: $header-font-family;

    @include media-query($on-mobile) {
        font-size: $title-font-size-mobile;
    }

    @include media-query($on-mobile-old) {
        font-size: $title-font-size-mobile-old;
    }
}

h2, .h2 {
    font-size: $header2-font-size;
    line-height: 1.15;
}

h3, .h3 {
    font-size: $header3-font-size;
    line-height: 1.3;
}

h4, .h4 {
    line-height: 1.3;
    font-size: $header4-font-size;
}

.subtitle {
    display: block;
    padding-bottom: $spacer-l;
    font-size: $subtitle-font-size;

    // For making subtitles hug closely above headers
    &.flushed {
        padding-bottom: 0;
        margin-bottom: -$spacer-l;
    }
}

.diagram-wrapper {
    .diagram {
        border: 1px solid $grey-color-border;
        padding: $spacer-xl;
        border-radius: $radius;

        // strange bottom margin hack
        p {
            margin: 0;
        }

        @include media-query($on-mobile) {
            padding: $spacer-m;
        }
    }

    .annotation {
        color: $grey-color;
    }
}

// Spacing elements
.m-b-0 {
    margin: 0px;
}

.m-b-l {
    margin-bottom: $spacer-xl;
}

.m-b-xl {
    margin-bottom: 100px;
}

.m-t-s {
    margin-top: $spacer-m;
}

.m-t-m {
    margin-top: $spacer-l;
}

.m-t-l {
    margin-top: $spacer-xl;
}

.m-t-xl {
    margin-top: $spacer-xxl;
}

// Link styles for the 'button' look

.cta-link {
    position: relative;
    display: flex;
    align-items: center;
    line-height: 1;
    padding-left: 25px;
    &::before {
        content:'';
        position: absolute;
        left:0;
        top:0;
        height: 14px;
        width: 14px;
        background-repeat: no-repeat;
        background-position: 0 0;
        background-size: 15px;
        background-image: url("data:image/svg+xml,%3Csvg width='14' height='15' viewBox='0 0 14 15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.697085 14.1509C-0.232361 9.52348 -0.232362 4.77828 0.697083 0.150878C5.54439 1.72628 10.0667 4.10277 14 7.15088C10.0667 10.199 5.54439 12.5755 0.697085 14.1509Z' fill='%2340DB88'/%3E%3C/svg%3E%0A");
    }

    & .white {
        color: white;
    }
}

.pseudo-button {
    box-sizing: border-box;
    text-decoration: none;

    > p > a {
        display: inline-block;
        color: $text-color-light;
        font-size: $base-font-size;
        background: #000;
        border-radius: $radius;
        padding: 12px 18px;

        &:hover {
            text-decoration: none;
            background: $brand-color;
        }
    }
}

.buttons-horizontal {
    display: flex;
    gap: $spacer-l;

    @include media-query($on-mobile) {
        display: block;
    }
}

.link-tree {
    table {
        max-width: 500px;
        border: none;

        tr {
            background-color: transparent;
        }
        td {
            background-color: transparent;
            border: 1px solid #c9c9c9;
            padding: 4px 8px;
        }
        th {
            background-color: transparent;
            border: none;
            padding: 0;
            color: $grey-color;
            font-weight: normal;
        }
        a {
            display: block;
        }
        p {
            margin: 0;
            padding: 0;
        }
    }

    // Style variations for use-cases page
    &.use-cases {
        table {
            border-collapse: separate;
            border-spacing: 0 $spacer-l;
            max-width: 80%;

            td {
                padding: $spacer-m;
            }
        }
    }
}

.table-of-contents {
    ul {
        li {
            ul {
                padding-left: 20px;
            }
        }
    }
}

// threats.md

// Render the threats list as table rows. We don't use a real <table> because
// that would be more markup and would not allow us to collapse rows.
.threats > details {
    // Simulate a 1px border with same behavior as "border-collapse: collapse".
    box-shadow: 1px 0 0 0 $grey-color-light,
                0 1px 0 0 $grey-color-light,
                1px 1px 0 0 $grey-color-light,
                1px 0 0 0 $grey-color-light inset,
                0 1px 0 0 $grey-color-light inset;
    display: block;
    padding: ($spacer-xl / 3) ($spacer-xl / 2);
    &[open] > summary {
      margin-bottom: $spacer-l;
    }
    > summary > span {
      display: block;
      float: right;
    }
}
